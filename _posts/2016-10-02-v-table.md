---
layout: post
title:  "C++中虚函数表"
date:   2016-10-02 18:25:01 +0800
tag: C++
---

### 虚函数表
* C++的虚函数(Virtual Function)是通过一张虚函数表(Virtual Table)来实现的。简称为V-Table。在有虚函数的类的实例中这张表被分配在了这个实例的内存中。
* 说明：虚函数表中只存有一个虚函数的指针地址，不存放普通函数或是构造函数的指针地址。只要有虚函数，C++类都会存在这样的一张虚函数表，不管是普通虚函数  亦或 是 纯虚函数，亦或是 派生类中隐式声明的这些虚函数都会 生成这张虚函数表。
* 虚函数表创建的时间：在一个类构造的时候，创建这张虚函数表，而这个虚函数表是供整个类所共有的。虚函数表存储在对象最开始的位置。
首先了解下这张虚函数表：虚函数表其实就是函数指针的地址。函数调用的时候，通过函数指针所指向的函数来调用函数。

无继承情况：
![无继承情况](http://img.my.csdn.net/uploads/201210/17/1350454384_3279.PNG)

继承，无虚函数覆盖的情形：
![继承，无虚函数覆盖的情形](http://p.blog.csdn.net/images/p_blog_csdn_net/haoel/15190/o_vtable2.JPG)

继承，虚函数覆盖的情形:
![继承，虚函数覆盖的情形](http://img.my.csdn.net/uploads/201210/17/1350454700_3568.PNG)

多继承情况:
![多继承情况](http://img.my.csdn.net/uploads/201210/17/1350454903_2853.PNG)

[转自:C++虚函数表详细解释及实例分析](http://blog.csdn.net/sunshinewave/article/details/51079204)
